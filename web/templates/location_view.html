<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>{{ location.chain.name }} - {{ location.name }}</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <style type="text/css">
        {#        TODO: move to file #}
        .dd-Beverage-drink {
            display: inline-block;
            border: solid 1px #666;
            padding: 1px 4px;
            border-radius: 4px;
            font-size: 80%;
            text-decoration: none;
            color: #666;
            background-color: #EEE;
        }

        .dd-Beverage-drink:hover,
        .dd-Beverage--consumed .dd-Beverage-drink {
            color: #FFF;
            background-color: green;
        }

        .dd-Beverage--consumed {
            color: #AAA;
            text-decoration: line-through;
        }
    </style>
    <script type="text/javascript">
        //TODO: Move app to layout
        window.app = {
            'baseUrl': {{ request.script_root|tojson|safe }},
            'currentUser': {{ current_user.flatten()|tojson|safe }}
        };
    </script>
</head>
<body>
{% macro beverage_link(beverage) -%}
    <span class="dd-Beverage" data-beverage_id="{{ beverage.id }}">
        {{ beverage.brewery }} - {{ beverage.name }}
        <a href="#" class="dd-Beverage-drink">drink</a>
    </span>
{%- endmacro %}
<h1>{{ location.chain.name }} - {{ location.name }}</h1>

<nav>
    <ul>
        <li><a href="{{ location.url }}">Website</a></li>
    </ul>
</nav>

<h2>Current Beverages</h2>
<ul>
    {% for beverage in location.beverages %}
        {% if beverage.is_active %}
            <li>
                {{ beverage_link(beverage) }}
            </li>
        {% endif %}
    {% endfor %}
</ul>
</body>
</html>
